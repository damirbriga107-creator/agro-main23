# DaorsAgro Platform Environment Configuration Template
# Copy this file to .env and adjust values for your environment

# =============================================
# GLOBAL CONFIGURATION
# =============================================
NODE_ENV=development
LOG_LEVEL=info
LOG_FORMAT=json

# =============================================
# API GATEWAY CONFIGURATION
# =============================================
API_GATEWAY_PORT=3000
API_GATEWAY_HOST=0.0.0.0

# CORS Configuration
CORS_ORIGIN=http://localhost:5173,http://localhost:3000
CORS_CREDENTIALS=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
AUTH_RATE_LIMIT_MAX=5

# =============================================
# MICROSERVICES PORTS
# =============================================
AUTH_SERVICE_PORT=3001
FINANCIAL_SERVICE_PORT=3002
SUBSIDY_SERVICE_PORT=3003
INSURANCE_SERVICE_PORT=3004
ANALYTICS_SERVICE_PORT=3005
DOCUMENT_SERVICE_PORT=3006
NOTIFICATION_SERVICE_PORT=3007
IOT_SERVICE_PORT=3008

# =============================================
# SERVICE URLs (for API Gateway routing)
# =============================================
AUTH_SERVICE_URL=http://auth-service:3001
FINANCIAL_SERVICE_URL=http://financial-service:3002
SUBSIDY_SERVICE_URL=http://subsidy-service:3003
INSURANCE_SERVICE_URL=http://insurance-service:3004
ANALYTICS_SERVICE_URL=http://analytics-service:3005
DOCUMENT_SERVICE_URL=http://document-service:3006
NOTIFICATION_SERVICE_URL=http://notification-service:3007
IOT_SERVICE_URL=http://iot-service:3008

# =============================================
# DATABASE CONFIGURATION
# =============================================

# PostgreSQL (Primary Database)
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_DB=daorsagro
POSTGRES_USER=postgres
POSTGRES_PASSWORD=postgres123

# Service-specific PostgreSQL databases
AUTH_DB_URL=postgresql://postgres:postgres123@postgres:5432/auth_db
FINANCIAL_DB_URL=postgresql://postgres:postgres123@postgres:5432/financial_db
SUBSIDY_DB_URL=postgresql://postgres:postgres123@postgres:5432/subsidy_db
INSURANCE_DB_URL=postgresql://postgres:postgres123@postgres:5432/insurance_db

# MongoDB (Document Storage)
MONGODB_URL=mongodb://mongo:mongo123@mongodb:27017/daorsagro?authSource=admin
MONGODB_HOST=mongodb
MONGODB_PORT=27017
MONGODB_USERNAME=mongo
MONGODB_PASSWORD=mongo123
MONGODB_DATABASE=daorsagro

# ClickHouse (Analytics Database)
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_DATABASE=daorsagro
CLICKHOUSE_USERNAME=clickhouse
CLICKHOUSE_PASSWORD=clickhouse123

# Elasticsearch (Search Engine)
ELASTICSEARCH_URL=http://elasticsearch:9200
ELASTICSEARCH_HOST=elasticsearch
ELASTICSEARCH_PORT=9200

# =============================================
# REDIS CONFIGURATION
# =============================================
REDIS_URL=redis://redis:6379
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_TTL=3600
REDIS_MAX_RETRIES=3

# =============================================
# MESSAGE QUEUE (KAFKA)
# =============================================
KAFKA_BROKERS=kafka:9092
KAFKA_CLIENT_ID=daorsagro-platform
KAFKA_GROUP_ID=daorsagro-group

# Kafka Topics
KAFKA_TOPIC_USER_EVENTS=user-events
KAFKA_TOPIC_FINANCIAL_EVENTS=financial-events
KAFKA_TOPIC_SUBSIDY_EVENTS=subsidy-events
KAFKA_TOPIC_INSURANCE_EVENTS=insurance-events
KAFKA_TOPIC_IOT_EVENTS=iot-events
KAFKA_TOPIC_NOTIFICATIONS=notifications
KAFKA_TOPIC_ANALYTICS=analytics

# =============================================
# JWT CONFIGURATION
# =============================================
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars
JWT_REFRESH_SECRET=your-super-secret-refresh-key-change-in-production-min-32-chars
JWT_EXPIRES_IN=15m
JWT_REFRESH_EXPIRES_IN=7d
JWT_ALGORITHM=HS256

# =============================================
# EMAIL SERVICE CONFIGURATION
# =============================================
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@example.com
SMTP_PASSWORD=your-email-password
EMAIL_FROM=noreply@daorsagro.com
EMAIL_FROM_NAME=DaorsAgro Platform

# =============================================
# EXTERNAL API CONFIGURATION
# =============================================

# Government APIs
GOVERNMENT_API_BASE_URL=https://api.government.example.com
GOVERNMENT_API_KEY=your-government-api-key

# Insurance Provider APIs
INSURANCE_API_BASE_URL=https://api.insurance-provider.example.com
INSURANCE_API_KEY=your-insurance-api-key

# Weather API
WEATHER_API_URL=https://api.openweathermap.org/data/2.5
WEATHER_API_KEY=your-weather-api-key

# IoT Platform (ThingsBoard)
THINGSBOARD_URL=http://thingsboard:8080
THINGSBOARD_USERNAME=your-thingsboard-username
THINGSBOARD_PASSWORD=your-thingsboard-password

# =============================================
# FILE STORAGE CONFIGURATION
# =============================================
STORAGE_TYPE=local
STORAGE_PATH=/app/uploads

# AWS S3 (if using cloud storage)
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=daorsagro-documents

# =============================================
# MONITORING & OBSERVABILITY
# =============================================
ENABLE_METRICS=true
METRICS_PORT=9090
ENABLE_HEALTH_CHECKS=true
HEALTH_CHECK_INTERVAL=30000

# Application Performance Monitoring
APM_ENABLED=false
APM_SERVICE_NAME=daorsagro
APM_SERVER_URL=http://apm-server:8200

# =============================================
# SECURITY CONFIGURATION
# =============================================
BCRYPT_ROUNDS=12
SESSION_SECRET=your-session-secret-change-in-production
CSRF_SECRET=your-csrf-secret-change-in-production

# =============================================
# FEATURE FLAGS
# =============================================
ENABLE_REGISTRATION=true
ENABLE_EMAIL_VERIFICATION=true
ENABLE_TWO_FACTOR_AUTH=false
ENABLE_AUDIT_LOGGING=true
ENABLE_DATA_ENCRYPTION=true

# =============================================
# DEVELOPMENT CONFIGURATION
# =============================================
ENABLE_DEBUG_ROUTES=true
ENABLE_API_DOCS=true
ENABLE_CORS_DEBUG=false
MOCK_EXTERNAL_APIS=false